"use strict";(self["webpackChunkfacility_app"]=self["webpackChunkfacility_app"]||[]).push([[466],{2888:function(t,e,n){n.d(e,{Gw:function(){return l},Xi:function(){return i},bF:function(){return a},fc:function(){return o}});n(7658);function a(t,e,n){const a=new Date(e),i=new Date(n),l=[],o=new Date(a);while(o<=i){const e=o.toISOString().split("T")[0];t.includes(e)||l.push(e),o.setDate(o.getDate()+1)}return l}function i(t,e){function n(t){const[e,n]=t.split(":").map((t=>Number(t)));return 60*e+n}let a=n(t),i=n(e);return a-i}function l(t){const e=new Date(t),n=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0"),s=`${n}-${a}-${i} ${l}:${o}:${r}`;return s}function o(t){var e=t.replace("T"," ");return e}},3737:function(){},1771:function(){},7930:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var a=n(3749),i=(n(2480),n(7468)),l=(n(2304),n(5073)),o=(n(7038),n(5881)),r=(n(7370),n(9812)),s=n(521),c=n(5893),f=n.p+"static/img/dui6.8304a6fb.png",d=n(644),u=n(1443),v=n(2888);const p={class:"reservationResult"},m=(0,r.uE)('<div class="top" data-v-f6ecd796></div><div class="image" data-v-f6ecd796><img src="'+f+'" alt="" class="img" data-v-f6ecd796></div><div data-v-f6ecd796><h1 style="color:#4590e8;text-align:center;padding:0px;margin:0px;" data-v-f6ecd796> 预约信息提交成功 </h1><div style="color:#4590e8;text-align:center;margin-top:20px;" data-v-f6ecd796> 你的预约申请已经提交，请关注预约状态 </div></div>',3),g={key:0,class:"card_center"},h={class:"bottom"};var w={__name:"ReservationResult",setup(t){let e=(0,d.tv)(),n=e.currentRoute.value.query.reservationId,f=(0,s.iH)(),w=(0,s.iH)(null);function x(t){(0,u.y$)(t).then((t=>{console.log(t.data),w.value=t.data.seatNumber}))}function _(t){1!=t?e.replace("/school/home/reservation"):e.replace("/school/home/record")}function k(){e.go(-2)}return(0,u.Ry)(n).then((t=>{console.log(t.data),null!=t.data&&(f.value=t.data,"room_facility_code"==t.data.reservationType&&x(t.data.roomIdSeatId))})).catch((()=>{})),(t,e)=>{const n=o.l2,d=l.Le,u=i.JX,x=a.X2;return(0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(n,{title:"预约结果","left-text":"返回","left-arrow":"",onClickLeft:k})])),_:1}),m,(0,r._)("div",null,[null!=(0,s.SU)(f)?((0,r.wg)(),(0,r.iD)("div",g,[(0,r.Wm)(x,{class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("预约编号")])),_:1}),(0,r.Wm)(u,{span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,s.SU)(f).reservationId),1)])),_:1})])),_:1}),(0,r.Wm)(x,{class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("设施地点名称")])),_:1}),(0,r.Wm)(u,{span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)("博瑞A楼-402-自习室")])),_:1})])),_:1}),(0,r.Wm)(x,{class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("申请时间")])),_:1}),(0,r.Wm)(u,{span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,s.SU)(v.fc)((0,s.SU)(f).applicationTime)),1)])),_:1})])),_:1}),(0,r.Wm)(x,{class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("预约日期")])),_:1}),(0,r.Wm)(u,{span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,s.SU)(f).reservationDate),1)])),_:1})])),_:1}),(0,r.Wm)(x,{class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("预约时段")])),_:1}),(0,r.Wm)(u,{span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,s.SU)(f).startTime)+" -"+(0,c.zw)((0,s.SU)(f).endTime),1)])),_:1})])),_:1}),(0,r.Wm)(x,{class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("预约方式")])),_:1}),"room"==(0,s.SU)(f).reservationType?((0,r.wg)(),(0,r.j4)(u,{key:0,span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)("整体")])),_:1})):((0,r.wg)(),(0,r.j4)(u,{key:1,span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)("编号")])),_:1}))])),_:1}),"room_facility_code"==(0,s.SU)(f).reservationType?((0,r.wg)(),(0,r.j4)(x,{key:0,class:"row",align:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:"10",class:"c"},{default:(0,r.w5)((()=>[(0,r.Uk)("设施编号")])),_:1}),(0,r.Wm)(u,{span:"13",offset:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)((0,s.SU)(w)),1)])),_:1})])),_:1})):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),(0,r._)("div",h,[(0,r._)("div",{onClick:e[0]||(e[0]=t=>_(1))},"历史预约"),(0,r._)("div",{onClick:e[1]||(e[1]=t=>_(2))},"首页预约")])])}}},x=n(8998);const _=(0,x.Z)(w,[["__scopeId","data-v-f6ecd796"]]);var k=_},2304:function(t,e,n){n(1958),n(3737)},5487:function(t,e,n){n.d(e,{F:function(){return s}});var a=n(8586),i=n(521),l=n(9812),o=n(2792),r=n(5777);const s=(t,e)=>{const n=(0,i.iH)(),s=()=>{n.value=(0,a.EL)(t).height};return(0,l.bv)((()=>{if((0,l.Y3)(s),e)for(let t=1;t<=3;t++)setTimeout(s,100*t)})),(0,r.h)((()=>(0,l.Y3)(s))),(0,l.YP)([o.bn,o.uK],s),n}},221:function(t,e,n){n.d(e,{J:function(){return l}});var a=n(9812),i=n(5487);function l(t,e){const n=(0,i.F)(t,!0);return t=>(0,a.Wm)("div",{class:e("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[t()])}},6755:function(t,e,n){n.d(e,{o:function(){return o}});var a=n(4391),i=n(9812),l=n(8586);function o(t,e){if(!a._f||!window.IntersectionObserver)return;const n=new IntersectionObserver((t=>{e(t[0].intersectionRatio>0)}),{root:document.body}),o=()=>{t.value&&n.observe(t.value)},r=()=>{t.value&&n.unobserve(t.value)};(0,i.se)(r),(0,i.Jd)(r),(0,l.Ib)(o)}},5881:function(t,e,n){n.d(e,{l2:function(){return g}});var a=n(2473),i=n(9812),l=n(521),o=n(1882),r=n(2469),s=n(1417),c=n(8336),f=n(221),d=n(4874);const[u,v]=(0,o["do"])("nav-bar"),p={title:String,fixed:Boolean,zIndex:r.Or,border:r.J5,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:r.J5};var m=(0,i.aZ)({name:u,props:p,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:n}){const a=(0,l.iH)(),o=(0,f.J)(a,v),r=n=>{t.leftDisabled||e("clickLeft",n)},u=n=>{t.rightDisabled||e("clickRight",n)},p=()=>n.left?n.left():[t.leftArrow&&(0,i.Wm)(d.JO,{class:v("arrow"),name:"arrow-left"},null),t.leftText&&(0,i.Wm)("span",{class:v("text")},[t.leftText])],m=()=>n.right?n.right():(0,i.Wm)("span",{class:v("text")},[t.rightText]),g=()=>{const{title:e,fixed:l,border:o,zIndex:f}=t,d=(0,s.As)(f),g=t.leftArrow||t.leftText||n.left,h=t.rightText||n.right;return(0,i.Wm)("div",{ref:a,style:d,class:[v({fixed:l}),{[c.xe]:o,"van-safe-area-top":t.safeAreaInsetTop}]},[(0,i.Wm)("div",{class:v("content")},[g&&(0,i.Wm)("div",{class:[v("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?c.e9:""],onClick:r},[p()]),(0,i.Wm)("div",{class:[v("title"),"van-ellipsis"]},[n.title?n.title():e]),h&&(0,i.Wm)("div",{class:[v("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?c.e9:""],onClick:u},[m()])])])};return()=>t.fixed&&t.placeholder?o(g):g()}});const g=(0,a.n)(m)},7370:function(t,e,n){n(1958),n(368),n(6742)},2480:function(t,e,n){n(1958),n(3737)},5073:function(t,e,n){n.d(e,{Le:function(){return h}});var a=n(2473),i=n(9812),l=n(521),o=n(1882),r=n(2469),s=n(1417),c=n(4391),f=n(2792),d=n(8586),u=n(6755);const[v,p]=(0,o["do"])("sticky"),m={zIndex:r.Or,position:(0,r.SQ)("top"),container:Object,offsetTop:(0,r.SI)(0),offsetBottom:(0,r.SI)(0)};var g=(0,i.aZ)({name:v,props:m,emits:["scroll","change"],setup(t,{emit:e,slots:n}){const a=(0,l.iH)(),o=(0,d.eo)(a),r=(0,l.qj)({fixed:!1,width:0,height:0,transform:0}),v=(0,l.iH)(!1),m=(0,i.Fl)((()=>(0,s.LU)("top"===t.position?t.offsetTop:t.offsetBottom))),g=(0,i.Fl)((()=>{if(v.value)return;const{fixed:t,height:e,width:n}=r;return t?{width:`${n}px`,height:`${e}px`}:void 0})),h=(0,i.Fl)((()=>{if(!r.fixed||v.value)return;const e=(0,c.l7)((0,s.As)(t.zIndex),{width:`${r.width}px`,height:`${r.height}px`,[t.position]:`${m.value}px`});return r.transform&&(e.transform=`translate3d(0, ${r.transform}px, 0)`),e})),w=t=>e("scroll",{scrollTop:t,isFixed:r.fixed}),x=()=>{if(!a.value||(0,f.xj)(a))return;const{container:e,position:n}=t,i=(0,d.EL)(a),l=(0,f.cx)(window);if(r.width=i.width,r.height=i.height,"top"===n)if(e){const t=(0,d.EL)(e),n=t.bottom-m.value-r.height;r.fixed=m.value>i.top&&t.bottom>0,r.transform=n<0?n:0}else r.fixed=m.value>i.top;else{const{clientHeight:t}=document.documentElement;if(e){const n=(0,d.EL)(e),a=t-n.top-m.value-r.height;r.fixed=t-m.value<i.bottom&&t>n.top,r.transform=a<0?-a:0}else r.fixed=t-m.value<i.bottom}w(l)};return(0,i.YP)((()=>r.fixed),(t=>e("change",t))),(0,d.OR)("scroll",x,{target:o,passive:!0}),(0,u.o)(a,x),(0,i.YP)([f.bn,f.uK],(()=>{a.value&&!(0,f.xj)(a)&&r.fixed&&(v.value=!0,(0,i.Y3)((()=>{const t=(0,d.EL)(a);r.width=t.width,r.height=t.height,v.value=!1})))})),()=>{var t;return(0,i.Wm)("div",{ref:a,style:g.value},[(0,i.Wm)("div",{class:p({fixed:r.fixed&&!v.value}),style:h.value},[null==(t=n.default)?void 0:t.call(n)])])}}});const h=(0,a.n)(g)},7038:function(t,e,n){n(1958),n(1771)}}]);
//# sourceMappingURL=reservationResult.b3bc2969.js.map